# NOTE: This file is autogenerated by update.sh, do not edit manually!
{ stdenv, lib, fetchurl, glibc }:

let
  fetchKernelOrgToolchain = toolchain: arch: tarball: sha256: stdenv.mkDerivation {
    name = "kernel-org-toolchain-${arch}-${toolchain}";

    src = fetchurl {
      url = "https://mirrors.edge.kernel.org/pub/tools/crosstool/files/bin/x86_64/8.1.0/${tarball}";
      inherit sha256;
    };

    rpath = lib.makeLibraryPath [ glibc stdenv.cc.cc ];

    unpackPhase = ''
      mkdir -p $out
      tar --strip-components=2 -C $out -xf $src
    '';

    installPhase = ''
      for f in $(find $out/bin/ $out/*/bin/ $out/libexec -type f -executable); do
        # Some things in libexec are .so files or shell scripts, skip over those.
        patchelf --set-interpreter "$(cat $NIX_CC/nix-support/dynamic-linker)" $f || continue
        patchelf --set-rpath "$rpath" $f
      done
    '';

    dontStrip = true;
  };
in {
    aarch64 = fetchKernelOrgToolchain "gcc-8.1.0" "aarch64" "x86_64-gcc-8.1.0-nolibc-aarch64-linux.tar.xz" "de285f88e6f5f4659605c5d304d7da3c139503808d1d18460b1eba70d221bb3c";
    alpha = fetchKernelOrgToolchain "gcc-8.1.0" "alpha" "x86_64-gcc-8.1.0-nolibc-alpha-linux.tar.xz" "80a97fa287b0ef91fe45668a313004c00b9d6c455ecef63996a208e86514d648";
    arc = fetchKernelOrgToolchain "gcc-8.1.0" "arc" "x86_64-gcc-8.1.0-nolibc-arc-linux.tar.xz" "7483377371a9b5f6c046faf8427ed525c1c2e6e2000713dfdebf3fd49b0553ab";
    arm = fetchKernelOrgToolchain "gcc-8.1.0" "arm" "x86_64-gcc-8.1.0-nolibc-arm-linux-gnueabi.tar.xz" "0f6ba5f420e434dd3b97253809269cd23f62f7f17ac2da3fa8db9ce3065b69dd";
    c6x = fetchKernelOrgToolchain "gcc-8.1.0" "c6x" "x86_64-gcc-8.1.0-nolibc-c6x-elf.tar.xz" "ce7e848e8ca8f81c03820635988d4f6d01bf6e4756447fb3dcfcc473d052a1fe";
    h8300 = fetchKernelOrgToolchain "gcc-8.1.0" "h8300" "x86_64-gcc-8.1.0-nolibc-h8300-linux.tar.xz" "bf3afdfad846437875e6076b908b63c63879bc4c107c4b9aa6f0517406f34c4c";
    hppa = fetchKernelOrgToolchain "gcc-8.1.0" "hppa" "x86_64-gcc-8.1.0-nolibc-hppa-linux.tar.xz" "8d517bbfc3e66557d13d6f2c293ae89a39391632722fd5583f51d2a2932db769";
    hppa64 = fetchKernelOrgToolchain "gcc-8.1.0" "hppa64" "x86_64-gcc-8.1.0-nolibc-hppa64-linux.tar.xz" "df5983778b68a94ef62d014184b13824170b94eeba46e52aa8c44fd121ffaa6e";
    i386 = fetchKernelOrgToolchain "gcc-8.1.0" "i386" "x86_64-gcc-8.1.0-nolibc-i386-linux.tar.xz" "b2eb663887f1ea68272166d683636717a9f885f9caf16abfdf116dee19f0c8a3";
    ia64 = fetchKernelOrgToolchain "gcc-8.1.0" "ia64" "x86_64-gcc-8.1.0-nolibc-ia64-linux.tar.xz" "aff347133c0975f6d0650a402d27cde8fe55f8e1b9c3c4ece4c50241f5ab382a";
    m68k = fetchKernelOrgToolchain "gcc-8.1.0" "m68k" "x86_64-gcc-8.1.0-nolibc-m68k-linux.tar.xz" "d8afb19b9c4870dd8603a6256aad51d38f3f411aff50dc19331e62504ccf8f8f";
    microblaze = fetchKernelOrgToolchain "gcc-8.1.0" "microblaze" "x86_64-gcc-8.1.0-nolibc-microblaze-linux.tar.xz" "e4acd6144759c61a077acaecf9672a5cdba600f2a4742cc57ea8f7f5ac65618b";
    mips = fetchKernelOrgToolchain "gcc-8.1.0" "mips" "x86_64-gcc-8.1.0-nolibc-mips-linux.tar.xz" "a1ff6d2d0d5a5bf7afb1dd61080c3f5c6eb71e18d400606adbfa1ca281bc43ad";
    mips64 = fetchKernelOrgToolchain "gcc-8.1.0" "mips64" "x86_64-gcc-8.1.0-nolibc-mips64-linux.tar.xz" "2c67e4a4fe5af11298d4dfcfcc6240d854bf14a3e95757ea2d1c92715a3c7553";
    nds32le = fetchKernelOrgToolchain "gcc-8.1.0" "nds32le" "x86_64-gcc-8.1.0-nolibc-nds32le-linux.tar.xz" "8f7eb59615aacb6a3258d2559db1e3a74669511f7c406606dd5d1297d39c5d6f";
    nios2 = fetchKernelOrgToolchain "gcc-8.1.0" "nios2" "x86_64-gcc-8.1.0-nolibc-nios2-linux.tar.xz" "0377a12429285af895a0ca3868bb6f619a792ef426012d460f8637f894ddcd5c";
    powerpc = fetchKernelOrgToolchain "gcc-8.1.0" "powerpc" "x86_64-gcc-8.1.0-nolibc-powerpc-linux.tar.xz" "f8effec19358ec27d278103c864aef37886a90f6a637e6b77d73e52cdd9e6e4b";
    powerpc64 = fetchKernelOrgToolchain "gcc-8.1.0" "powerpc64" "x86_64-gcc-8.1.0-nolibc-powerpc64-linux.tar.xz" "7ec4b0aa14ae3651ae40b100f04149f07708b30676f56ffa64e3ac72c6209d72";
    riscv32 = fetchKernelOrgToolchain "gcc-8.1.0" "riscv32" "x86_64-gcc-8.1.0-nolibc-riscv32-linux.tar.xz" "3ecdfd15c3143a5cae23c600d18f215d65a0c4852cb9457f3de7671d5521d059";
    riscv64 = fetchKernelOrgToolchain "gcc-8.1.0" "riscv64" "x86_64-gcc-8.1.0-nolibc-riscv64-linux.tar.xz" "feeac6cfba75208d2f3a4059882f997098cbe4ae679c3ddedf6d57b3dcd06aa7";
    s390 = fetchKernelOrgToolchain "gcc-8.1.0" "s390" "x86_64-gcc-8.1.0-nolibc-s390-linux.tar.xz" "0956a984881f7bd961318c08315e3d16d3138be821e0f0777bd044c85009fe3e";
    sh2 = fetchKernelOrgToolchain "gcc-8.1.0" "sh2" "x86_64-gcc-8.1.0-nolibc-sh2-linux.tar.xz" "fe29fe71a2b3ee35414cf26868b9348581259ce73b83025fd8015006fbc2c2af";
    sh4 = fetchKernelOrgToolchain "gcc-8.1.0" "sh4" "x86_64-gcc-8.1.0-nolibc-sh4-linux.tar.xz" "5b266e046e1b5ca3d1867ec68f2ac9713d01c7c9fdab728af22513e6a38f4406";
    sparc = fetchKernelOrgToolchain "gcc-8.1.0" "sparc" "x86_64-gcc-8.1.0-nolibc-sparc-linux.tar.xz" "c964c12c4956e99d94d27ade4728d9836a623c457d7e95b4451c3d093ef257fd";
    sparc64 = fetchKernelOrgToolchain "gcc-8.1.0" "sparc64" "x86_64-gcc-8.1.0-nolibc-sparc64-linux.tar.xz" "254df1290adf07d5a05532c0d4eb87648e3f26888e7e80eb62b5a06573bf6a45";
    x86_64 = fetchKernelOrgToolchain "gcc-8.1.0" "x86_64" "x86_64-gcc-8.1.0-nolibc-x86_64-linux.tar.xz" "40d2e29493924a6f9e31b0c203adbdb99b9a08660b8d4888cc01a546c0511ba1";
    xtensa = fetchKernelOrgToolchain "gcc-8.1.0" "xtensa" "x86_64-gcc-8.1.0-nolibc-xtensa-linux.tar.xz" "39baa9194cf40e344cc38b21b4ae1521258dd08942890343e49508c059af8bc2";
}
